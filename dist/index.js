"use strict";(()=>{var m=(i,r)=>(Array.isArray(r)||(r=[r]),r.map(e=>i.dispatchEvent(new Event(e,{bubbles:!0}))).every(e=>e));var p=new Map([["tiny","(max-width: 479px)"],["small","(max-width: 767px)"],["medium","(max-width: 991px)"],["main","(min-width: 992px)"]]);var c=()=>{for(let[i,r]of p)if(window.matchMedia(r).matches)return i;return"main"};var d=(i,r,n={})=>{let e=document.createElement(i);return Object.entries(n).forEach(([t,o])=>{if(t==="class"){e.classList.add(o);return}if(t==="dataset"){Object.entries(o).forEach(([s,a])=>{e.dataset[s]=a});return}if(t==="text"){e.textContent=o;return}if(t==="callback"){e.onload=o;return}e.setAttribute(t,o)}),r.appendChild(e),e};var u=()=>{console.log("init splide"),d("script",document.body,{src:"https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/js/splide.min.js",callback:i});function i(){console.log("slider");let r=document.querySelector(".splide.is-team");if(r){let t=new Splide(r,{type:"loop",gap:"2.5rem",perPage:3,perMove:1,breakpoints:{991:{perPage:2},767:{perPage:1}}}).mount()}let n=document.querySelector(".splide.is-home");if(n){let o=function(){c()==="main"?t.destroy():t.mount()};var e=o;let t=new Splide(n,{type:"loop",gap:"1.5rem",perPage:4,perMove:1,pagination:!1,breakpoints:{991:{perPage:3},767:{perPage:2},479:{perPage:1}}});o(),window.addEventListener("resize",o)}}};var f=()=>{var n;window.onload=function(){let e=document.querySelector('[fs-cmssort-element="trigger"]');m(e,"click"),setTimeout(()=>{let t=document.querySelector('[fs-cmscombine-element="list"]');[...t==null?void 0:t.children].forEach((o,s)=>{s<=3||o.remove()})},100)};let i=(n=document.querySelector('[data-author="name"]').textContent)==null?void 0:n.replace(" ","+"),r=document.querySelector('[data-author="more"]');r.href=`/search-results?author=${i}`};var g=()=>{i();function i(){let n=document.querySelector('[data-recommended="wrapper"]');if(!n)return;let e=n.querySelector('[data-recommended="main"]'),t=n.querySelector('[data-recommended="sub"]'),o=[...e.querySelectorAll('[data-recommended="link"]')];if(o.length===3){t.remove();return}let s=o.map(l=>l.href),a=3-o.length;[...t.querySelectorAll('[data-recommended="link"]')].forEach(l=>{if(a===0||s.includes(l.href)){l.remove();return}a-=1})}function r(){let n=document.querySelector(".aspect_wrapper.is-author"),e=document.querySelector(".aspect_wrapper"),t=c();if(t==="main"||t==="medium"){let o=e.offsetWidth,s=n.offsetHeight;e.style.paddingBottom=`${s/o*100}%`}else e.style.removeProperty("padding-bottom")}};var x=()=>{i(),window.addEventListener("resize",i),r(),setTimeout(()=>{if(sessionStorage.getItem("modalTriggered"))return;let e=document.querySelector('[data-nav-modal="trigger"]');m(e,"click"),sessionStorage.setItem("modalTriggered","true")},1e4);function i(){let n=document.querySelector(".aspect_wrapper.is-square"),e=document.querySelector(".aspect_wrapper"),t=c();if(!(!n||!e))if(t==="main"||t==="medium"){let o=e.offsetWidth,s=n.offsetHeight;e.style.paddingBottom=`${s/o*100}%`}else e.style.removeProperty("padding-bottom")}function r(){[...document.querySelectorAll("[fs-richtext-component]")].forEach(e=>{let o=`//p[text()='{{${e.getAttribute("fs-richtext-component")}}}']`,s=document.evaluate(o,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;s&&s.replaceWith(e)})}};var h=()=>{window.onload=function(){let i=document.querySelector('[fs-cmssort-element="trigger"]');m(i,"click")}};window.Webflow||(window.Webflow=[]);window.Webflow.push(()=>{[...document.querySelectorAll("a")].forEach(t=>{let o=t.host===window.location.host?"follow":"nofollow";t.setAttribute("rel",o)});let{pathname:r}=window.location;[...document.querySelectorAll('input[type="hidden"]')].forEach(t=>{switch(t.name){case"URL":t.value=r}}),r.includes("/authors/")&&f(),r.includes("/gear/")&&g(),r.includes("/guides/")&&x(),r.includes("/search-results")&&h(),document.querySelector(".splide")&&u()});})();
